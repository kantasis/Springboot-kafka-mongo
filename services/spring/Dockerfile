FROM eclipse-temurin:17-jdk-alpine

# Bezkoder suggests this:
# FROM maven:3.8.5-openjdk-17

# I don't think this one is necessary
# Ports are not exposed to host machines, only exposed to other services.
# TODO: Remove this
EXPOSE 8080

ARG SPRING_PORT
ENV SPRING_PORT ${SPRING_PORT}

ARG KAFKA_BOOTSTRAP_SERVER
ENV KAFKA_BOOTSTRAP_SERVER ${KAFKA_BOOTSTRAP_SERVER}

ARG MONGO_ROOT_USERNAME
ENV MONGO_ROOT_USERNAME ${MONGO_ROOT_USERNAME}

ARG MONGO_ROOT_PASSWORD
ENV MONGO_ROOT_PASSWORD ${MONGO_ROOT_PASSWORD}

ARG MONGO_HOST
ENV MONGO_HOST ${MONGO_HOST}

ARG MONGO_PORT
ENV MONGO_PORT ${MONGO_PORT}

ARG MONGODB_DATABASE
ENV MONGODB_DATABASE ${MONGODB_DATABASE}

COPY demo/target/demo-0.0.1-SNAPSHOT.jar app.jar



ENTRYPOINT ["java","-jar","/app.jar"]
